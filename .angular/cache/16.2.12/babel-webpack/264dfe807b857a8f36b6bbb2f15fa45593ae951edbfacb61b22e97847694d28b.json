{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../chat-service.service\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = [\"name\"];\nconst _c1 = [\"nameBtn\"];\nconst _c2 = [\"nameTitle\"];\nfunction ChatComponent_ul_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 14)(1, \"li\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const message_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", message_r5, \" \");\n  }\n}\nexport class ChatComponent {\n  constructor(ChatService) {\n    this.ChatService = ChatService;\n    this.messages = [];\n    this.name = 'NoName';\n    this.comments = this.ChatService.comments;\n  }\n  addName(name) {\n    console.log('new name: ' + name);\n    this.name = name;\n    this.inputElement.nativeElement.remove();\n    this.inputBtnElement.nativeElement.remove();\n    this.inputH1Element.nativeElement.remove();\n  }\n  sendMsg(msg) {\n    console.log('send message');\n    msg = this.name + \" : \" + msg;\n    this.ChatService.sendMessage(msg);\n  }\n  // Subscribe to chat messages\n  ngOnInit() {\n    this.ChatService.getMessages().subscribe(message => {\n      this.messages.push(message);\n    });\n  }\n  static #_ = this.ɵfac = function ChatComponent_Factory(t) {\n    return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.ChatService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChatComponent,\n    selectors: [[\"app-chat\"]],\n    viewQuery: function ChatComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputElement = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputBtnElement = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputH1Element = _t.first);\n      }\n    },\n    decls: 18,\n    vars: 1,\n    consts: [[1, \"nameField\"], [\"type\", \"text\"], [\"nameTitle\", \"\"], [\"type\", \"text\", \"value\", \"BladeRunner\", 1, \"input\"], [\"name\", \"\"], [3, \"click\"], [\"nameBtn\", \"\"], [1, \"chat\"], [\"id\", \"chat\"], [\"id\", \"messages\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"form\"], [\"type\", \"text\", \"id\", \"input\", \"value\", \"\", 1, \"input\"], [\"box1\", \"\"], [\"id\", \"chatName\"], [\"id\", \"messages\"]],\n    template: function ChatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r6 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1, 2);\n        i0.ɵɵtext(3, \"Your name: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"input\", 3, 4);\n        i0.ɵɵelementStart(6, \"div\", 5, 6);\n        i0.ɵɵlistener(\"click\", function ChatComponent_Template_div_click_6_listener() {\n          i0.ɵɵrestoreView(_r6);\n          const _r1 = i0.ɵɵreference(5);\n          ctx.addName(_r1.value);\n          return i0.ɵɵresetView(_r1.value = \"\");\n        });\n        i0.ɵɵtext(8, \"Send\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8);\n        i0.ɵɵtemplate(11, ChatComponent_ul_11_Template, 3, 1, \"ul\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 10);\n        i0.ɵɵelement(13, \"input\", 11, 12);\n        i0.ɵɵelementStart(15, \"div\", 5);\n        i0.ɵɵlistener(\"click\", function ChatComponent_Template_div_click_15_listener() {\n          i0.ɵɵrestoreView(_r6);\n          const _r4 = i0.ɵɵreference(14);\n          ctx.sendMsg(_r4.value);\n          return i0.ɵɵresetView(_r4.value = \"\");\n        });\n        i0.ɵɵtext(16, \"Send\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(17, \"p\", 13);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n      }\n    },\n    dependencies: [i2.NgForOf],\n    styles: [\".chat[_ngcontent-%COMP%] { background-color: #585555; color: white; font-size: 1.5em; width:80%; padding: 5%; border-radius: 24px; margin: 0 auto;}\\n\\n\\n.nameField[_ngcontent-%COMP%] {width: 50%; margin: 0 auto}\\n#form[_ngcontent-%COMP%] { background: rgba(0, 0, 0, 0.15); padding: 0.25rem; position: fixed; bottom: 72px; left: 0; right: 0; display: flex; height: 3rem; box-sizing: border-box; -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px); }\\n#input[_ngcontent-%COMP%] { border: none; padding: 0 1rem; flex-grow: 1; border-radius: 2rem; margin: 0.25rem; }\\n#input[_ngcontent-%COMP%]:focus { outline: none; }\\n#form[_ngcontent-%COMP%]    > button[_ngcontent-%COMP%] { background: #333; border: none; padding: 0 1rem; margin: 0.25rem; border-radius: 3px; outline: none; color: #fff; }\\n\\n#messages[_ngcontent-%COMP%] { list-style-type: none; margin: 0; padding: 0; }\\n#messages[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%] { background: #767373; padding: 0.5rem 1rem; }\\n#messages[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:nth-child(odd) { background: #686464; }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2hhdC9jaGF0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsUUFBUSx5QkFBeUIsRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxjQUFjLENBQUM7QUFDL0gsZ0pBQWdKO0FBQ2hKLFlBQVksVUFBVSxFQUFFLGNBQWM7QUFDdEMsUUFBUSwrQkFBK0IsRUFBRSxnQkFBZ0IsRUFBRSxlQUFlLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxzQkFBc0IsRUFBRSxtQ0FBMkIsRUFBM0IsMkJBQTJCLEVBQUU7QUFDL0wsU0FBUyxZQUFZLEVBQUUsZUFBZSxFQUFFLFlBQVksRUFBRSxtQkFBbUIsRUFBRSxlQUFlLEVBQUU7QUFDNUYsZUFBZSxhQUFhLEVBQUU7QUFDOUIsaUJBQWlCLGdCQUFnQixFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUU7O0FBRW5JLFlBQVkscUJBQXFCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRTtBQUMxRCxpQkFBaUIsbUJBQW1CLEVBQUUsb0JBQW9CLEVBQUU7QUFDNUQsZ0NBQWdDLG1CQUFtQixFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiLmNoYXQgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjNTg1NTU1OyBjb2xvcjogd2hpdGU7IGZvbnQtc2l6ZTogMS41ZW07IHdpZHRoOjgwJTsgcGFkZGluZzogNSU7IGJvcmRlci1yYWRpdXM6IDI0cHg7IG1hcmdpbjogMCBhdXRvO31cbi8qIGJvZHkgeyBtYXJnaW46IDA7IHBhZGRpbmctYm90dG9tOiAzcmVtOyBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsgfSAqL1xuLm5hbWVGaWVsZCB7d2lkdGg6IDUwJTsgbWFyZ2luOiAwIGF1dG99XG4jZm9ybSB7IGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4xNSk7IHBhZGRpbmc6IDAuMjVyZW07IHBvc2l0aW9uOiBmaXhlZDsgYm90dG9tOiA3MnB4OyBsZWZ0OiAwOyByaWdodDogMDsgZGlzcGxheTogZmxleDsgaGVpZ2h0OiAzcmVtOyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7IH1cbiNpbnB1dCB7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMCAxcmVtOyBmbGV4LWdyb3c6IDE7IGJvcmRlci1yYWRpdXM6IDJyZW07IG1hcmdpbjogMC4yNXJlbTsgfVxuI2lucHV0OmZvY3VzIHsgb3V0bGluZTogbm9uZTsgfVxuI2Zvcm0gPiBidXR0b24geyBiYWNrZ3JvdW5kOiAjMzMzOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDAgMXJlbTsgbWFyZ2luOiAwLjI1cmVtOyBib3JkZXItcmFkaXVzOiAzcHg7IG91dGxpbmU6IG5vbmU7IGNvbG9yOiAjZmZmOyB9XG5cbiNtZXNzYWdlcyB7IGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyB9XG4jbWVzc2FnZXMgPiBsaSB7IGJhY2tncm91bmQ6ICM3NjczNzM7IHBhZGRpbmc6IDAuNXJlbSAxcmVtOyB9XG4jbWVzc2FnZXMgPiBsaTpudGgtY2hpbGQob2RkKSB7IGJhY2tncm91bmQ6ICM2ODY0NjQ7IH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","message_r5","ChatComponent","constructor","ChatService","messages","name","comments","addName","console","log","inputElement","nativeElement","remove","inputBtnElement","inputH1Element","sendMsg","msg","sendMessage","ngOnInit","getMessages","subscribe","message","push","_","ɵɵdirectiveInject","i1","_2","selectors","viewQuery","ChatComponent_Query","rf","ctx","ɵɵelement","ɵɵlistener","ChatComponent_Template_div_click_6_listener","ɵɵrestoreView","_r6","_r1","ɵɵreference","value","ɵɵresetView","ɵɵtemplate","ChatComponent_ul_11_Template","ChatComponent_Template_div_click_15_listener","_r4","ɵɵproperty"],"sources":["/mnt/c/Users/ylva/dbwebbkurser/jsramverk/2023version/yso/appBTHv2/frontendBTH/src/app/chat/chat.component.ts","/mnt/c/Users/ylva/dbwebbkurser/jsramverk/2023version/yso/appBTHv2/frontendBTH/src/app/chat/chat.component.html"],"sourcesContent":["import { Component, ElementRef, inject, ViewChild } from '@angular/core';\n\nimport { ChatService } from '../chat-service.service';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\n\nexport class ChatComponent {\n  constructor( \n    private ChatService: ChatService) { \n    }\n\n    message: string;\n    messages: string[] = [];\n    response: void;\n    name : string = 'NoName';\n\n    comments = this.ChatService.comments;\n\n    @ViewChild('name') inputElement : ElementRef; \n    @ViewChild('nameBtn') inputBtnElement : ElementRef; \n    @ViewChild('nameTitle') inputH1Element : ElementRef; \n\n    addName(name: string) {\n      console.log('new name: '+name );\n      this.name = name;\n      this.inputElement.nativeElement.remove();\n      this.inputBtnElement.nativeElement.remove();\n      this.inputH1Element.nativeElement.remove();\n    }\n\n    sendMsg(msg: string) {\n      console.log('send message');\n      msg = this.name + \" : \"+msg;\n      this.ChatService.sendMessage(msg);\n    }\n\n    // Subscribe to chat messages\n    ngOnInit() {\n      this.ChatService\n        .getMessages()\n        .subscribe((message: string) => {\n          this.messages.push(message);\n        });\n    }\n\n}\n","<div class=\"nameField\">\n    <h1 #nameTitle type=\"text\" >Your name: </h1>\n    <input #name type=\"text\" class='input' value='BladeRunner' >\n    <div #nameBtn (click)=\"addName(name.value); name.value=''\">Send</div>\n</div>\n\n<div class=\"chat\">  \n\n        <div id=\"chat\">\n            <ul id=\"messages\" *ngFor=\"let message of messages\">\n                <li> {{message}} </li>\n            </ul>\n        </div>\n\n        <div id=\"form\">\n            <!-- <input [(ngModel)]=\"message\" (keyup)=\"$event.keyCode == 13 && sendMsg()\" /> -->\n\n            <input #box1 type=\"text\" id=\"input\" class='input' value='' >\n            <div (click)=\"sendMsg(box1.value); box1.value=''\">Send</div>\n        </div>\n            <!-- <button (click)=\"sendMsg()\" id ='send' class=\"submitBtn\">Send</button> -->\n        <p id=\"chatName\"></p>\n\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}